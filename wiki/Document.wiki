=Document=
(This page holds everything about this project except the code.)

(All the resources I mentioned can be found in the "reference" page.)

(The code is in the "Source"->"Browse" tab.)

(Processing code name: "draw_board.pde")

(Arduino Mega code: "final_project_kinect_tetris.ino")(This code is the same code found in our group project, which has all the functionalities. Both Kinect and accelerometer can be used to play the tetris. But Kinect and Processing are required to start the game.)

(Arduino Mega code: "arduino_tetris.ino")(This code is an independent version of my project, which does not require Kinect and Processing to start the game. However, the game can only be controlled by accelerometer, not Kinect.)

==This wiki page is organized into following sections.==
==1.General information about this project.==
==2.Kinect and Processing (optional).==
==3.Arduino Mega 2560 and TFT touch screen.==
==4.8*8 LED matrix.==
==5.Accelerometer.==
==6.Possible improvement in future.==
==7.Material list and estimate cost.==
*---------------------------------------------------------------------------------------------------------------------*
==1.General information about this project.==

In this project, I built a tetris game based on Arduino Mega 2560, TFT touch screen, accelerometer, 8*8 LED matrix, and Kinect (optional). The idea to make a game on the LED matrix and accelerometer was came from one of the former students. He built a Snake game based on LED matrix and accelerometer for his individual project. I took his idea and add some other functionalities like level choose, score record, and Kinect control. Generally speaking, the Arduino Mega takes the input from accelerometer, TFT touch screen, and Processing (optional); does the computation work according to the game logic; send output to the 8*8 LED matrix and TFT touch screen. In the following sections, I'll go through every part one by one.

==2.Kinect and Processing (optional).==

http://www.cngulu.com/wp-content/uploads/2013/11/kinect.jpg

If you are interesting about the complete version of this project and using Kinect to play this game, the second part of [https://code.google.com/p/ece-387-group-project-kinect-control/wiki/Document this] project may give you some useful information.

==3. Arduino Mega 2560 and TFT touch screen.==

Just like our group project, the main idea behind this project is still finite state machine. It has three states, "TETRIS_LEVELCHOOSE," "TETRIS_GAME," and "TETRIS_GAMEOVER." In each of these three states, several functions are used to complete the game logic. All functions are written by myself, and I feel it is easy to figure out the purpose of each function. So I will not go through every functions at here, but I would like to talk about something I feel interesting in my program.

1). The way I used to store the information about every piece is worth talking at here. I created a 19*9 array to store this kind of information. The 19 stands for the 19 kinds of piece in the game. The 9 values in each row hold the information about each piece and the index of next piece (the piece that the current piece will change into when you press the "up" button). Imagine a 4*4 grid, the first 8 values stand for the piece's relative location to the upper right corner, and the 9th value is the index of the next piece. For example, 